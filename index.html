<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>我們的國際創意市集：學習護照</title>
    <style>
        /* --- 全局樣式 (已優化) --- */
        body { 
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", "Microsoft JhengHei", Roboto, "Helvetica Neue", Arial, sans-serif; 
            background-color: #f0f4f8; 
            color: #333; 
            line-height: 1.6; 
            margin: 0; 
            padding: 20px; 
        }
        .passport-container { max-width: 900px; margin: 20px auto; background-color: #fff; border-radius: 12px; box-shadow: 0 4px 15px rgba(0,0,0,0.1); overflow: hidden; border: 1px solid #ddd; }
        
        /* --- 網頁版頁首 --- */
        .web-header { background-color: #4a69bd; color: white; padding: 20px 30px; text-align: center; }
        .web-header h1 { margin: 0; font-size: 2em; }
        .web-header p { margin: 5px 0 0; opacity: 0.9; }
        
        .tab-nav { display: flex; background-color: #e2e8f0; border-bottom: 1px solid #cbd5e0; }
        .tab-button { flex: 1; padding: 15px 10px; border: none; background-color: transparent; cursor: pointer; font-size: 1em; font-weight: 600; color: #4a5568; transition: background-color 0.3s, color 0.3s; border-bottom: 3px solid transparent; font-family: inherit; /* 確保字體一致 */ }
        .tab-button.active { color: #4a69bd; border-bottom: 3px solid #4a69bd; background-color: #fff; }
        .tab-content { padding: 30px; }
        .tab-pane { display: none; }
        .tab-pane.active { display: block; animation: fadeIn 0.5s ease-in-out; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        .task-card { background-color: #f8fafc; border: 1px solid #e2e8f0; border-radius: 8px; padding: 20px; margin-bottom: 25px; }
        .task-card h2 { margin-top: 0; color: #1e3a8a; border-bottom: 2px solid #e2e8f0; padding-bottom: 10px; font-size: 1.4em; /* 統一標題大小 */ }
        label { display: flex; align-items: center; font-weight: 600; margin-bottom: 8px; }
        label svg { width: 1.3em; height: 1.3em; margin-right: 10px; fill: #4a69bd; flex-shrink: 0; }
        input[type="text"], textarea { width: 100%; padding: 10px; border: 1px solid #cbd5e0; border-radius: 6px; font-size: 1em; box-sizing: border-box; margin-bottom: 5px; background-color: #fff; font-family: inherit; /* 確保字體一致 */ }
        textarea { resize: vertical; min-height: 100px; }
        .grid-container { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; }
        .action-button { display: inline-block; width: auto; padding: 12px 25px; background-color: #3c5aa6; color: white; border: none; border-radius: 8px; font-size: 1em; font-weight: bold; cursor: pointer; text-align: center; margin-top: 20px; transition: background-color 0.3s; font-family: inherit; /* 確保字體一致 */ }
        .action-button:hover { background-color: #2d4373; }
        .print-only { display: none; }

        /* --- 列印專用頁首樣式 (平時隱藏) --- */
        .print-header { display: none; }

        /* --- 列印專用樣式 --- */
        @media print {
            body { padding: 0; background-color: #fff; font-size: 12pt; /* 設定基礎列印字級 */ }
            .passport-container { box-shadow: none; border: none; margin: 0; max-width: 100%; border-radius: 0; }
            .web-header, .tab-nav, .action-button, label svg { display: none !important; }
            .tab-pane:not(.is-printing) { display: none !important; }
            .tab-pane.is-printing { display: block !important; animation: none; }
            .tab-content { padding: 10px 0; }
            .task-card { border: 1px solid #ccc; page-break-inside: avoid; }
            input[type="text"], textarea { display: none; }
            .print-only { display: block; padding: 10px; border: 1px dashed #ccc; border-radius: 6px; min-height: 20px; white-space: pre-wrap; word-wrap: break-word; color: #000; }
            .print-header { display: block; padding: 20px 30px; text-align: center; border-bottom: 2px solid #333; }
            .print-header h1 { font-size: 1.8em; margin: 0 0 15px 0; color: #000; }
            .print-nav { display: flex; justify-content: space-around; padding: 10px; border: 1px solid #ccc; border-radius: 8px; }
            .print-nav-item { font-size: 1em; color: #555; }
            .print-nav-item.active { font-weight: bold; color: #000; text-decoration: underline; }
        }

        /* --- ★ 新增：輸入框驗證失敗的樣式 ★ --- */
        .is-invalid {
            border-color: #e53e3e; /* 醒目的紅色邊框 */
            box-shadow: 0 0 0 2px rgba(229, 62, 62, 0.2); /* 微妙的紅色光暈，增加視覺提示 */
        }
        .is-invalid:focus {
            border-color: #c53030; /* 焦點狀態下顏色加深 */
            box-shadow: 0 0 0 3px rgba(229, 62, 62, 0.3);
        }

        /* --- ★ 新增：圖片上傳功能的專屬樣式 ★ --- */
        .image-uploader {
            margin-top: 20px;
            border-top: 1px solid #e2e8f0;
            padding-top: 20px;
        }
        .upload-button {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            padding: 10px 20px;
            background-color: #5a7bca;
            color: white;
            border-radius: 8px;
            cursor: pointer;
            font-weight: bold;
            transition: background-color 0.3s;
            margin-bottom: 15px;
        }
        .upload-button:hover {
            background-color: #4a69bd;
        }
        .upload-button svg {
            width: 1.2em;
            height: 1.2em;
            margin-right: 8px;
            fill: white;
        }
        .sketch-preview {
            position: relative;
            width: 100%;
            min-height: 150px;
            border: 2px dashed #cbd5e0;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            background-color: #f8fafc;
            overflow: hidden;
        }
        .sketch-preview img {
            max-width: 100%;
            max-height: 400px;
            display: none; /* 預設隱藏 */
            object-fit: contain;
        }
        .sketch-preview img.has-image {
            display: block; /* 有圖片時顯示 */
        }
        .sketch-preview #sketch-placeholder {
            color: #a0aec0;
            font-weight: 500;
        }
    </style>
</head>
<body>

    <div class="passport-container">
        <header class="web-header">
            <h1>我們的國際創意市集</h1>
            <p>學習護照 Learning Passport</p>
        </header>

        <div class="print-header">
            <h1>我們的國際創意市集 - 學習護照</h1>
            <div class="print-nav">
                <span class="print-nav-item" data-print-tab="tab1">① 護照首頁</span>
                <span class="print-nav-item" data-print-tab="tab2">② 探索臺灣寶藏</span>
                <span class="print-nav-item" data-print-tab="tab3">③ 設計世界攤位</span>
                <span class="print-nav-item" data-print-tab="tab4">④ 市集日反思</span>
            </div>
        </div>

        <nav class="tab-nav">
            <button class="tab-button active" data-tab="tab1">① 護照首頁</button>
            <button class="tab-button" data-tab="tab2">② 探索臺灣寶藏</button>
            <button class="tab-button" data-tab="tab3">③ 設計世界攤位</button>
            <button class="tab-button" data-tab="tab4">④ 市集日反思</button>
        </nav>

        <main class="tab-content">
            <!-- Tab 1: 護照首頁 -->
            <div id="tab1" class="tab-pane active">
                <div class="task-card">
                    <h2>護照持有人資訊 / Passport Holder Information</h2>
                    <div class="grid-container">
                        <div>
                            <label for="student-name"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/></svg>
				姓名 / Name</label>
                            <input type="text" id="student-name" placeholder="請輸入2-5個中文字 (此姓名將用於所有檔案命名)">
                            <div class="print-only" data-for="student-name"></div>
                        </div>
                        <div>
                            <label for="group-members"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5c-1.66 0-3 1.34-3 3s1.34 3 3 3zm-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5C6.34 5 5 6.34 5 8s1.34 3 3 3zm0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5zm8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5z"/></svg>
				小組成員 / Group Members</label>
                            <input type="text" id="group-members" placeholder="3-5位組員的班級座號，用逗號隔開">
                            <div class="print-only" data-for="group-members"></div>
                        </div>
                    </div>
                </div>
		<div class="task-card">
                   <h2>旅程任務說明 / Journey Tasks Guide</h2>
                    	<p>歡迎來到「我們的國際創意市集」！這本護照將記錄你從探索家鄉、認識世界，到親手打造創意攤位的完整旅程。</p>
                    	<p>請跟隨頁籤的指引，與你的組員們同心協力，完成每一個階段的挑戰。準備好就從「② 探索臺灣寶藏」開始你的旅程吧！</p>
                    	<p>Welcome to <strong>Our International Creative Market</strong>! This Learning Passport will help you record your entire journey — from exploring your hometown and learning about the world, all the way to creating your very own creative booth!</p>
                    	<p>All you have to do is follow the tab instructions, and you and your friends can work together to complete each challenge. Are you ready? Then let’s start your journey from <strong>② Explore Taiwan’s Treasures</strong>!</p>
                </div>
		<button class="action-button" onclick="saveAndPrint('tab1', '護照首頁')">🖨️ 下載本頁學習單 (PDF)</button>
            </div>

            <!-- Tab 2: 探索臺灣寶藏 -->
            <div id="tab2" class="tab-pane">
                <div class="task-card">
                    <h2>Step 1：臺灣好物腦力激盪</h2>
                    <label for="taiwan-ideas">
                        如果我們要向世界介紹臺灣，你會拿出什麼「寶藏」？(例如：珍珠奶茶、藍白拖、小籠包、客家花布...)
                    </label>
                    <textarea id="taiwan-ideas" placeholder="請盡情寫下所有想到的臺灣特色物品..."></textarea>
                    <div class="print-only" data-for="taiwan-ideas"></div>
                </div>
                <div class="task-card">
                    <h2>Step 2：選定我們的「臺灣之光」</h2>
                    <label for="selected-item">
                        經過小組討論，我們決定深入研究的「臺灣好物」是：
                    </label>
                    <input type="text" id="selected-item" placeholder="請填寫最終選定的產品名稱">
                    <div class="print-only" data-for="selected-item"></div>
                    <label for="item-story">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 6h-8l-2-2H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2zm0 12H4V6h5.17l2 2H20v10zM12 10H6v2h6v-2zm4 4h-4v2h4v-2z"/></svg>
                        關於這個寶藏的故事：(它的由來、文化意義、特殊之處)
                    </label>
                    <textarea id="item-story" placeholder="請利用平板或圖書，查詢並記錄下它的故事..."></textarea>
                    <div class="print-only" data-for="item-story"></div>
                </div>
		<button class="action-button" onclick="saveAndPrint('tab2', '探索臺灣寶藏')">🖨️ 下載本頁學習單 (PDF)</button>
		</div>

            <!-- Tab 3: 設計世界攤位 -->
            <div id="tab3" class="tab-pane">
                <div class="task-card">
                    <h2>Step 1：我們的國家攤位</h2>
                     <div class="grid-container">
                        <div>
                            <label for="country-name">
                                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M14.4 6L14 4H5v17h2v-7h5.6l.4 2h7V6h-5.6z"/></svg>
                                我們負責的國家
                            </label>
                            <input type="text" id="country-name" placeholder="請填寫抽籤或分配到的國家">
                            <div class="print-only" data-for="country-name"></div>
                        </div>
                        <div>
                            <label for="stall-name">
                                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 4H4v2h16V4zm1 10v-2l-1-5H4l-1 5v2h1v6h10v-6h4v6h2v-6h1zm-9 4H6v-4h6v4z"/></svg>
                                我們的攤位名稱
                            </label>
                            <input type="text" id="stall-name" placeholder="發揮創意，為攤位取個響亮的名字！">
                            <div class="print-only" data-for="stall-name"></div>
                        </div>
                    </div>
                </div>
                <div class="task-card">
                    <h2>Step 2：產品研究與設計</h2>
                    <label for="country-product">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 6h-2.18c.11-.31.18-.65.18-1 0-1.66-1.34-3-3-3-1.05 0-1.96.54-2.5 1.35C11.96 2.54 11.05 2 10 2c-1.66 0-3 1.34-3 3 0 .35.07.69.18 1H5c-1.11 0-1.99.9-1.99 2L3 20c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2L21 8c0-1.1-.9-2-2-2zm-5-2c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zM9 4c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm11 16H4v-2h16v2zm0-5H4V8h5.08L7 10.83 8.62 12 11 8.76l1-2.76h.01L14.38 12 16 10.83 13.92 8H19v7z"/></svg>
                        我們要販售的「創意產品」是什麼？(例如：日本的御守、荷蘭的木鞋...)
                    </label>
                    <input type="text" id="country-product" placeholder="請填寫代表該國的1-2樣創意產品">
                    <div class="print-only" data-for="country-product"></div>

                    <label for="product-meaning">
                        這個產品在該國的文化意義與特色是什麼？
                    </label>
                    <textarea id="product-meaning" placeholder="研究它的由來、材質、圖案與用途，並記錄下來..."></textarea>
                    <div class="print-only" data-for="product-meaning"></div>
                </div>

                <!-- ★ Step 3: 攤位設計藍圖與分工 (已升級，加入提示文字) ★ -->
                <div class="task-card">
                    <h2>Step 3：攤位設計藍圖與分工</h2>

                    <!-- 文字描述區塊 (無變動) -->
                    <label for="stall-design">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M22.7 19l-9.1-9.1c.9-2.3.4-5-1.5-6.9-2-2-5-2.4-7.4-1.3L9 6l-4 4L3.4 8.4C2.3 10.8 2.7 13.8 4.7 15.8c1.9 1.9 4.6 2.4 6.9 1.5l9.1 9.1c.4.4 1 .4 1.4 0l.6-.6c.4-.4.4-1 0-1.4z"/></svg>
                        我們的攤位海報與佈置風格是什麼樣子(請在此描述)？
                    </label>
                    <textarea id="stall-design" placeholder="請用文字描述你們的設計理念與風格..."></textarea>
                    <div class="print-only" data-for="stall-design"></div>

                    <!-- 圖片上傳與預覽區塊 (已升級) -->
                    <div class="image-uploader">
                        <label for="stall-sketch-upload" class="upload-button">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9 16h6v-6h4l-7-7-7 7h4zm-4 2h14v2H5z"/></svg>
                            上傳設計草圖照片
                        </label>
                        <input type="file" id="stall-sketch-upload" accept="image/*" style="display: none;">
                        
                        <!-- ★ 修改點：在此新增提示文字 ★ -->
                        <small style="color: #718096; margin-top: -10px; margin-bottom: 15px; display: block;">
                            建議上傳 3MB 以下的 JPG 或 PNG 檔案。
                        </small>
                        
                        <div id="sketch-preview-container" class="sketch-preview">
                            <img id="sketch-preview-image" src="" alt="設計草圖預覽">
                            <span id="sketch-placeholder">圖片預覽區</span>
                        </div>
                    </div>
                    <div class="print-only" data-for="stall-sketch-upload"></div>

                    <!-- 團隊任務分工表 (無變動) -->
                    <label for="team-roles">
                        團隊任務分工表
                    </label>
                    <textarea id="team-roles" placeholder="將海報繪製、產品製作、道具準備等工作，分配給合適的組員吧！&#10;例如：&#10;王小明：海報主要設計&#10;陳美麗：產品樣品製作"></textarea>
                    <div class="print-only" data-for="team-roles"></div>
                </div>
                <button class="action-button" onclick="saveAndPrint('tab3', '設計世界攤位')">🖨️ 下載本頁學習單 (PDF)</button>    
            </div>
            
            <!-- Tab 4: 市集日反思 -->
            <div id="tab4" class="tab-pane">
		<div class="task-card">
                    <h2>關於「公平貿易」與世界公民</h2>
                    <label for="reflection-fairtrade">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 17.93c-3.95-.49-7-3.85-7-7.93 0-.62.08-1.21.21-1.79L9 15v1c0 1.1.9 2 2 2v1.93zm6.9-2.54c-.26-.81-1-1.39-1.9-1.39h-1v-3c0-.55-.45-1-1-1H8v-2h2c.55 0 1-.45 1-1V7h2c1.1 0 2-.9 2-2v-.41c2.93 1.19 5 4.06 5 7.41 0 2.08-.8 3.97-2.1 5.39z"/></svg>
                        上完「公平貿易」這一課後，我對於「買東西」這件事，有沒有什麼新的想法？我覺得一個「世界公民」應該具備什麼樣的態度？
                    </label>
                    <textarea id="reflection-fairtrade" placeholder="思考看看，我們的每一個消費選擇，如何影響著世界另一端的人..."></textarea>
                    <div class="print-only" data-for="reflection-fairtrade"></div>
                </div>
                <div class="task-card">
                    <h2>我的收穫與成長</h2>
                    <label for="reflection-harvest">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/></svg>
                        在這次「國際創意市集」課程中，我印象最深刻的是什麼？我學到了哪些關於臺灣或其他國家的事？
                    </label>
                    <textarea id="reflection-harvest" placeholder="可以是製作過程中的趣事、同學攤位的驚喜，或是自己的新發現..."></textarea>
                    <div class="print-only" data-for="reflection-harvest"></div>
                </div>
                <div class="task-card">
                    <h2>團隊合作與自我評價</h2>
                    <label for="reflection-teamwork">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19.43 12.98c.04-.32.07-.64.07-.98s-.03-.66-.07-.98l2.11-1.65c.19-.15.24-.42.12-.64l-2-3.46c-.12-.22-.39-.3-.61-.22l-2.49 1c-.52-.4-1.08-.73-1.69-.98l-.38-2.65C14.46 2.18 14.25 2 14 2h-4c-.25 0-.46.18-.49.42l-.38 2.65c-.61.25-1.17.59-1.69.98l-2.49-1c-.23-.09-.49 0-.61.22l-2 3.46c-.13.22-.07.49.12.64l2.11 1.65c-.04.32-.07.65-.07.98s.03.66.07.98l-2.11 1.65c-.19.15-.24.42-.12.64l2 3.46c.12.22.39.3.61.22l2.49-1c.52.4 1.08.73 1.69.98l.38 2.65c.03.24.24.42.49.42h4c.25 0 .46-.18.49-.42l.38-2.65c.61-.25 1.17-.59 1.69-.98l2.49 1c.23.09.49 0 .61.22l2-3.46c.12-.22.07-.49-.12-.64l-2.11-1.65zM12 15.5c-1.93 0-3.5-1.57-3.5-3.5s1.57-3.5 3.5-3.5 3.5 1.57 3.5 3.5-1.57 3.5-3.5 3.5z"/></svg>
                        在和組員一起準備的過程中，我覺得自己做得最好的地方是什麼？還有哪些地方可以再進步？
                    </label>
                    <textarea id="reflection-teamwork" placeholder="回想看看自己在團隊中扮演的角色，以及如何與他人溝通合作..."></textarea>
                    <div class="print-only" data-for="reflection-teamwork"></div>
                </div>
		<button class="action-button" onclick="saveAndPrint('tab4', '市集日反思')">🖨️ 下載本頁學習單 (PDF)</button>
            </div>
        </main>
    </div>

    <script src="script.js"></script>
</body>
</html>
